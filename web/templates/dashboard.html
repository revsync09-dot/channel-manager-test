<!DOCTYPE html>
<html lang="en" class="bg-black">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ brand_name }} - Overview</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            500: '#8B5CF6',
                            600: '#7C3AED',
                            700: '#5B21B6',
                        }
                    }
                }
            }
        };
    </script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
</head>
<body class="min-h-screen bg-slate-950 text-white flex">
    <!-- Sidebar -->
    <aside class="hidden lg:flex w-72 border-r border-white/5 flex-col bg-black/40">
        <div class="p-6 border-b border-white/5 flex items-center space-x-3">
            <div class="h-12 w-12 rounded-2xl bg-gradient-to-br from-brand-500 to-purple-500 grid place-items-center text-xl font-semibold">
                {{ brand_name.split()[0][0] if brand_name else 'CM' }}
            </div>
            <div>
                <p class="text-sm text-slate-400 uppercase tracking-widest">Cluster</p>
                <p class="text-lg font-semibold">{{ bot_status.cluster }}</p>
            </div>
        </div>
        <div class="flex-1 overflow-y-auto scroll-section p-6 space-y-8">
            {% for section in nav_sections %}
                <div>
                    <div class="flex items-center justify-between mb-2">
                        <p class="text-xs uppercase tracking-widest text-slate-400">{{ section.title }}</p>
                        {% if section.badge %}
                            <span class="text-[10px] px-2 py-0.5 rounded-full bg-white/5 text-white/60">{{ section.badge }}</span>
                        {% endif %}
                    </div>
                    <ul class="space-y-1.5">
                        {% for item in section['items'] %}
                            <li>
                                <a href="#" class="flex items-center justify-between px-3 py-2 rounded-xl {{ 'bg-white/5 text-white' if item.active else 'text-slate-400 hover:text-white hover:bg-white/5' }} transition">
                                    <span>{{ item.label }}</span>
                                    {% if item.badge %}
                                        <span class="text-xs px-2 py-0.5 rounded-full bg-white/10">{{ item.badge }}</span>
                                    {% elif item.pill %}
                                        <span class="text-[10px] uppercase tracking-wide text-emerald-400">{{ item.pill }}</span>
                                    {% endif %}
                                </a>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
            {% endfor %}
        </div>
        <div class="p-6 border-t border-white/5">
            <div class="rounded-2xl p-4 bg-white/5 border border-white/10">
                <p class="text-xs uppercase tracking-widest text-slate-400 mb-2">Support</p>
                <p class="text-sm text-slate-300 mb-4">Need help? Jump into the support server.</p>
                <a href="{{ support_invite }}" target="_blank" class="w-full inline-flex justify-center items-center rounded-xl bg-gradient-to-r from-brand-500 to-indigo-500 py-2.5 font-semibold">Support Channel</a>
            </div>
        </div>
    </aside>

    <!-- Main content -->
    <section class="flex-1 flex flex-col">
        <header class="p-6 border-b border-white/5 flex flex-wrap gap-4 justify-between items-center">
            <div>
                <p class="text-sm text-slate-400">Brucius â€¢ Overview</p>
                <h1 class="text-3xl font-semibold">Dashboard Overview</h1>
                <p class="text-slate-400 text-sm mt-1">{{ tagline }}</p>
            </div>
            <div class="flex items-center gap-4">
                <button class="px-4 py-2 rounded-xl border border-white/10 hover:border-white/30 transition flex items-center gap-2 text-sm">
                    ðŸ”„ Refresh
                </button>
                <div class="flex items-center gap-3">
                    <div class="text-right">
                        <p class="text-sm font-semibold">{{ user.global_name or user.username }}</p>
                        <p class="text-xs text-slate-400">{{ bot_status.version }}</p>
                    </div>
                    <div class="relative">
                        <img src="{{ avatar_url }}" alt="Profile" class="h-12 w-12 rounded-2xl border border-white/10">
                        <span class="absolute -bottom-1 -right-1 w-3 h-3 rounded-full bg-emerald-400 status-dot"></span>
                    </div>
                </div>
            </div>
        </header>

        <main class="flex-1 overflow-y-auto scroll-section p-6 space-y-8">
            <!-- Overview cards -->
            <section class="grid gap-4 grid-cols-1 md:grid-cols-2 xl:grid-cols-4">
                {% for card in overview_cards %}
                    <div class="rounded-2xl border border-white/5 bg-gradient-to-br from-white/5 to-white/0 p-5">
                        <p class="text-sm text-slate-400 mb-2">{{ card.label }}</p>
                        <p class="text-3xl font-semibold">{{ card.value }}</p>
                        <p class="text-xs text-emerald-400 mt-3">{{ card.delta }}</p>
                    </div>
                {% endfor %}
            </section>

            <!-- Analytics -->
            <section class="grid gap-6 xl:grid-cols-3">
                <div class="rounded-2xl border border-white/5 p-6 bg-black/20 xl:col-span-2">
                    <div class="flex items-center justify-between mb-4">
                        <div>
                            <p class="text-sm text-slate-400">30 days growth trend</p>
                            <h2 class="text-2xl font-semibold">Server Growth</h2>
                        </div>
                        <span class="px-3 py-1 rounded-full bg-emerald-400/20 text-emerald-300 text-sm">+33%</span>
                    </div>
                    <div class="flex items-end gap-2 h-48">
                        {% for point in server_growth %}
                            <div class="flex flex-col items-center flex-1">
                                <div class="w-5 rounded-full bg-gradient-to-t from-brand-500 to-purple-400" style="height: {{ point.value * 6 }}px"></div>
                                <span class="text-[10px] text-slate-500 mt-2">{{ point.label }}</span>
                            </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="space-y-6">
                    <div class="rounded-2xl border border-white/5 p-6">
                        <h2 class="text-xl font-semibold mb-4">Subscriptions</h2>
                        <div class="space-y-4">
                            {% for plan in subscription_stats %}
                                <div>
                                    <div class="flex justify-between text-sm mb-1">
                                        <span>{{ plan.name }}</span>
                                        <span>{{ plan.value }} users</span>
                                    </div>
                                    <div class="h-2 rounded-full bg-white/5">
                                        {% set width = plan.value / 4 %}
                                        <div class="h-full rounded-full {{ plan.color }}" style="width: {{ width if width < 100 else 100 }}%"></div>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                        <div class="mt-6 p-4 rounded-xl bg-white/5">
                            <p class="text-xs text-slate-400 uppercase mb-1">Monthly Revenue</p>
                            <p class="text-2xl font-semibold">$4,290.00</p>
                        </div>
                    </div>
                    <div class="rounded-2xl border border-white/5 p-6 bg-white/5">
                        <h2 class="text-xl font-semibold mb-3">Bot Status</h2>
                        <ul class="text-sm space-y-2 text-slate-300">
                            <li class="flex justify-between"><span>Cluster</span><span>{{ bot_status.cluster }}</span></li>
                            <li class="flex justify-between"><span>Region</span><span>{{ bot_status.region }}</span></li>
                            <li class="flex justify-between"><span>Latency</span><span>{{ bot_status.latency }}</span></li>
                            <li class="flex justify-between"><span>Uptime</span><span>{{ bot_status.uptime }}</span></li>
                            <li class="flex justify-between"><span>Refreshed</span><span>{{ bot_status.refreshed }}</span></li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Recent servers -->
            <section class="rounded-2xl border border-white/5 p-6 bg-black/20">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <p class="text-sm text-slate-400">4 servers currently managed</p>
                        <h2 class="text-2xl font-semibold">Recent Server Joins</h2>
                    </div>
                    <span class="px-3 py-1 rounded-full bg-white/5 text-xs text-slate-300">Live</span>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-left text-sm">
                        <thead>
                            <tr class="text-slate-400 uppercase text-xs tracking-widest">
                                <th class="py-2">Server Name</th>
                                <th class="py-2">Members</th>
                                <th class="py-2">Region</th>
                                <th class="py-2">Status</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-white/5">
                            {% for server in recent_servers %}
                                <tr class="py-3">
                                    <td class="py-3">
                                        <div class="flex items-center gap-3">
                                            <div class="h-9 w-9 rounded-full bg-white/5 grid place-items-center text-xs uppercase">
                                                {{ server.name[:2] if server.name else 'SV' }}
                                            </div>
                                            <span>{{ server.name }}</span>
                                        </div>
                                    </td>
                                    <td class="py-3 text-slate-300">{{ server.members }}</td>
                                    <td class="py-3 text-slate-300">{{ server.region }}</td>
                                    <td class="py-3">
                                        <span class="px-3 py-1 rounded-full text-xs bg-emerald-500/10 text-emerald-300">{{ server.status }}</span>
                                    </td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Logs & commands -->
            <section class="grid gap-6 xl:grid-cols-2">
                <div class="rounded-2xl border border-white/5 p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-xl font-semibold">Owner Logging</h2>
                        <span class="text-xs text-slate-400 uppercase tracking-widest">Root Access</span>
                    </div>
                    <ul class="space-y-4">
                        {% for log in owner_logs %}
                            <li class="p-4 rounded-xl bg-white/5 flex items-center justify-between">
                                <div>
                                    <p class="font-semibold">{{ log.title }}</p>
                                    <p class="text-sm text-slate-400">{{ log.detail }}</p>
                                </div>
                                <div class="text-right">
                                    <span class="text-xs px-3 py-1 rounded-full bg-white/10 text-white/70">{{ log.status }}</span>
                                    <p class="text-xs text-slate-400 mt-2">{{ log.timestamp }}</p>
                                </div>
                            </li>
                        {% endfor %}
                    </ul>
                </div>

                <div class="space-y-6">
                    {% for block in command_sections %}
                        <div class="rounded-2xl p-6 bg-gradient-to-br {{ block.tone }} border border-white/10">
                            <div class="flex items-center justify-between mb-4">
                                <h2 class="text-xl font-semibold">{{ block.title }}</h2>
                                <span class="text-xs uppercase tracking-widest text-white/70">Commands</span>
                            </div>
                            <div class="space-y-3">
                                {% for command in block.commands %}
                                    <div class="p-4 rounded-xl bg-black/20 border border-white/10">
                                        <p class="font-semibold">{{ command.name }}</p>
                                        <p class="text-sm text-white/80">{{ command.description }}</p>
                                    </div>
                                {% endfor %}
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </section>
        </main>
    </section>
</body>
</html>

